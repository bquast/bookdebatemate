<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Debate Mate</title> {/* UPDATED TITLE */}
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#add8e6">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="BookDebateMate">
    */}
</head>
<body>

    <div id="loading-area">
        <h2>Load a Book to Debate!</h2>
        <div class="load-option">
            <h3>Load from Repository:</h3>
            <input type="text" id="book-search" placeholder="Search by title or author">
            <ul id="repository-books-list"></ul>
        </div>
        <div class="load-option">
            <h3>From your computer:</h3>
            <input type="file" id="file-input" accept=".md, .txt, text/plain">
        </div>
        <div class="load-option">
            <h3>From a URL:</h3>
            <input type="text" id="url-input" placeholder="Enter .md or .txt file URL">
            <button id="load-url">Load URL</button>
        </div>
        <p id="loading-status"></p>
        <div class="load-option">
            <h3>Recent Files:</h3>
            <ul id="recent-books-list"></ul>
            <button id="clear-recent-books" style="display: none;">Clear Recent Files</button>
        </div>
        <div class="load-option" id="saved-books-section" style="display: none;">
            <h3>Saved Books (Local Storage):</h3>
            <ul id="saved-books-list"></ul>
            <button id="clear-saved-books" style="display: none;">Clear Saved Books</button>
        </div>
    </div>

    <div id="book-container" style="display: none;">
        <div id="page-left" class="page"></div>
        <div id="page-right" class="page"></div>
    </div>

    <div id="side-menu">
        <div id="menu-toggle-container">
            <div id="menu-toggle">
                &#x2261; <span class="tooltiptext">Toggle Menu</span>
            </div>
        </div>
        <div id="collapsed-sidebar-content">
            <div id="collapsed-book-title" class="menu-section" style="display: none;">
                <span id="vertical-book-title-text"></span>
            </div>
            <div id="collapsed-progress" class="menu-section" style="display: none;">
                <span id="simple-page-info"></span>
            </div>
            {/* Highlight Button (for later) - Added Placeholder */}
            <div id="highlight-button-collapsed" class="menu-section" style="display: none;">
                <button title="Highlight Selection (Future Feature)">&#x270F;</button> {/* Example: Pencil icon */}
            </div>
            <div id="fullscreen-button-collapsed" class="menu-section" style="display: none;">
                <button title="Toggle Fullscreen">&#x26F6;</button> 
            </div>
            <div id="ai-debater-button-collapsed" class="menu-section" style="display: none;">
                <button title="AI Debater">?</button>
            </div>
        </div>
        <div id="expanded-menu-content" class="hidden">
            <div class="menu-section">
                <h4>Settings</h4>
                <div class="menu-subsection">
                     <h5>Appearance</h5>
                     <label><input type="radio" name="theme" value="light"> Light</label><br>
                     <label><input type="radio" name="theme" value="dark"> Dark</label><br>
                     <label><input type="radio" name="theme" value="system" checked> System</label>
                </div>
                <div class="menu-subsection">
                    <h5>Text</h5>
                    <label><input type="checkbox" id="justify-text"> Justify Paragraphs</label>
                </div>
                <div class="menu-subsection">
                    <h5>View</h5>
                    <button id="fullscreen-button-expanded">Toggle Fullscreen</button>
                </div>
            </div>
            <div class="menu-section" id="progress-section-expanded" style="display: none;">
                <h4>Progress</h4>
                <span id="menu-page-info"></span>
            </div>
            <div class="menu-section" id="ai-debater-section" style="display: none;">
                <h4>AI Debater</h4>
                <div id="ai-chat-window">
                    <div id="ai-chat-messages"></div>
                    <div id="ai-chat-input-area">
                        <textarea id="ai-user-input" placeholder="Debate this section..."></textarea>
                        <button id="ai-send-button">Send</button>
                    </div>
                </div>
                 <p id="ai-status" style="font-size: 0.8em; font-style: italic;"></p>
            </div>
        </div>
    </div>

    <div id="overlay-mobile" class="hidden"></div>
    <script src="script.js"></script>
</body>
</html>